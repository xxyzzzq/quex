/* -*- C++ -*- vim: set syntax=cpp: 
 * NO INCLUDE GUARDS -- THIS FILE MIGHT BE INCLUDED TWICE FOR MULTIPLE
 *                      LEXICAL ANALYZERS
 * NOT: #ifndef __INCLUDE_GUARD__QUEX_LEXER_CLASS_QUEX_MODE__
 * NOT: #define __INCLUDE_GUARD__QUEX_LEXER_CLASS_QUEX_MODE__       */
#ifndef CLASS
#   error "Macro CLASS must be defined before inclusion of this file."
#endif
#ifndef CLASS_QUEX_MODE
#   error "Macro CLASS_QUEX_MODE must be defined before inclusion of this file."
#endif

#include<quex/code_base/definitions>
#include<quex/code_base/analyzer/Analyser>

#include<quex/code_base/temporary_macros_on>

#if ! defined(__QUEX_SETTING_PLAIN_C)
#    if defined(QUEX_OPTION_ASSERTS)
#       include<quex/code_base/buffer/MemoryPositionMimiker>
#    endif
#endif

#if ! defined(__QUEX_SETTING_PLAIN_C)
namespace quex { 
#endif
    
    struct CLASS_QUEX_MODE {  
        int            id;
        const char*    name;
        QuexAnalyser*  the_lexer;

        void  (*(analyser_function))(QuexAnalyser*);

#       ifdef __QUEX_OPTION_INDENTATION_TRIGGER_SUPPORT        
        void (*on_indentation)(CLASS*, const int Indentation);
#       endif
        void (*on_entry)(CLASS*, const CLASS_QUEX_MODE* FromMode);
        void (*on_exit)(CLASS*, const CLASS_QUEX_MODE* ToMode);
#       ifdef QUEX_OPTION_RUNTIME_MODE_TRANSITION_CHECK        
        bool (*has_base)(const CLASS_QUEX_MODE* Mode);
        bool (*has_entry_from)(const CLASS_QUEX_MODE* Mode);
        bool (*has_exit_to)(const CLASS_QUEX_MODE* Mode);
#       endif
    };
    
#   ifndef __QUEX_SETTING_QUEX_MODE_AUX_FUNCTIONS_DECLARED
#   define __QUEX_SETTING_QUEX_MODE_AUX_FUNCTIONS_DECLARED
    QUEX_INLINE void
    QuexMode_uncallable_analyser_function(QuexAnalyser*)
    { __quex_assert(0); return; }

    QUEX_INLINE void
    QuexMode_on_indentation_null_function(CLASS*, const int) 
    { }
#   endif
    QUEX_INLINE void
    QuexMode_on_entry_exit_null_function(CLASS*, const CLASS_QUEX_MODE*) 
    { }

#if ! defined(__QUEX_SETTING_PLAIN_C)
} // namespace quex 
#endif

#include <quex/code_base/temporary_macros_off>

