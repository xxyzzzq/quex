/* -*- C++ -*- vim:set syntax=cpp: 
 *
 * NO INCLUDE GUARDS -- THIS FILE MIGHT BE INCLUDED TWICE FOR MULTIPLE
 *                      LEXICAL ANALYZERS
 * NOT: #ifndef __INCLUDE_GUARD__QUEX_LEXER_CLASS_ACCUMULATOR
 * NOT: #define __INCLUDE_GUARD__QUEX_LEXER_CLASS_ACCUMULATOR            */

#ifndef   QUEX_TYPE_ANALYZER
#   error "Macro QUEX_TYPE_ANALYZER must be defined before inclusion of this file."
#endif

#if ! defined(__QUEX_SETTING_PLAIN_C)
namespace quex {
#endif

    // (*) pure text accumulation and flushing
    struct QUEX_TYPE_ACCUMULATOR {
        QUEX_TYPE_ACCUMULATOR() { _accumulated_text.reserve(1024); }

        void  flush(const QUEX_TYPE_TOKEN_ID TokenID);
        void  clear();
        void  add(const QUEX_TYPE_CHARACTER*);
        void  add(const QUEX_TYPE_CHARACTER);

        void  print_this();

    private:
        friend class QUEX_TYPE_ANALYZER;
#       ifdef QUEX_OPTION_LINE_NUMBER_COUNTING
        int  _begin_line;
#       endif
#       ifdef QUEX_OPTION_COLUMN_NUMBER_COUNTING
        int  _begin_column;
#       endif
        std::basic_string<QUEX_TYPE_CHARACTER>  _accumulated_text;
        QUEX_TYPE_ANALYZER*                                  _the_lexer;     
    };

#if ! defined(__QUEX_SETTING_PLAIN_C)
} // namespace quex
#endif
