/* -*- C++ -*-  vim:set syntax=cpp: 
 *
 * __QUEX_INCLUDE_GUARD__ANALYZER__ACCUMULATOR may be undefined in case
 *    that multiple lexical analyzers are used. Then, the name of the
 *    QUEX_TYPE_ACCUMULATOR must be different.                             */
#ifndef __QUEX_INCLUDE_GUARD__ANALYZER__ACCUMULATOR
#define __QUEX_INCLUDE_GUARD__ANALYZER__ACCUMULATOR

#ifndef   QUEX_TYPE_ANALYZER
#   error "Macro QUEX_TYPE_ANALYZER must be defined before inclusion of this file."
#endif
#ifndef   QUEX_TYPE_ACCUMULATOR
#   error "Macro QUEX_TYPE_ACCUMULATOR must be defined before inclusion of this file."
#endif

#include <quex/code_base/definitions>

QUEX_NAMESPACE_COMPONENTS_OPEN

    /* (*) pure text accumulation and flushing */
    typedef struct {
#       ifdef QUEX_OPTION_LINE_NUMBER_COUNTING
        int  _begin_line;
#       endif
#       ifdef QUEX_OPTION_COLUMN_NUMBER_COUNTING
        int  _begin_column;
#       endif

        struct { 
            QUEX_TYPE_CHARACTER* begin;
            QUEX_TYPE_CHARACTER* end;
            QUEX_TYPE_CHARACTER* memory_end;
        }                   text;
        QUEX_TYPE_ANALYZER* the_lexer;     

#   ifndef __QUEX_SETTING_PLAIN_C
    public:
        void  flush(const QUEX_TYPE_TOKEN_ID TokenID);
        void  clear();
        void  add(const QUEX_TYPE_CHARACTER* Begin, const QUEX_TYPE_CHARACTER* End);
        void  add_chararacter(const QUEX_TYPE_CHARACTER);
        void  print_this();
    private:
        friend class QUEX_TYPE_ANALYZER;
#   endif
    } QUEX_TYPE_ACCUMULATOR;

    void
    QUEX_PREFIX(QUEX_TYPE_ACCUMULATOR, _construct)(QUEX_TYPE_ACCUMULATOR*, QUEX_TYPE_ANALYZER*);

QUEX_NAMESPACE_COMPONENTS_CLOSE

#endif /* __QUEX_INCLUDE_GUARD__ANALYZER__ACCUMULATOR */
